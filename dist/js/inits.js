!function(){"use strict";const t=[...document.querySelectorAll("[data-content]")],e=[...document.querySelectorAll("[data-button]")],s=[...document.querySelectorAll("[data-source]")],i=[...document.querySelectorAll("[data-image]")],a=document.querySelector(".sources");class n extends HTMLElement{constructor(){super();const t=this;this.state=new Proxy({status:"open",enabled:!1},{set(e,s,i){const a=e[s];return e[s]=i,a!==i&&t.processStateChange(),e}})}get maxWidth(){return parseInt(this.getAttribute("max-width")||9999,10)}connectedCallback(){this.initialMarkup=this.innerHTML,this.render();new ResizeObserver((t=>{const{contentRect:e}=t[0];this.state.enabled=e.width<=this.maxWidth})).observe(this.parentNode)}render(){this.innerHTML=`\n\t\t\t<div class="burger-menu" data-element="burger-root">\n\t\t\t\t<button class="burger-menu__trigger" data-element="burger-menu-trigger" type="button" aria-label="Open menu">\n\t\t\t\t\t<span class="burger-menu__bar" aria-hidden="true"></span>\n\t\t\t\t</button>\n\t\t\t\t<div class="burger-menu__panel" data-element="burger-menu-panel">\n\t\t\t\t\t${this.initialMarkup}\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t`,this.postRender()}postRender(){var t;if(this.trigger=this.querySelector('[data-element="burger-menu-trigger"]'),this.panel=this.querySelector('[data-element="burger-menu-panel"]'),this.root=this.querySelector('[data-element="burger-root"]'),this.focusableElements=(t=this)?t.querySelectorAll('button:not([disabled]), [href], input:not([disabled]), select:not([disabled]), textarea:not([disabled]), [tabindex]:not([tabindex="-1"]):not([disabled]), details:not([disabled]), summary:not(:disabled)'):(console.warn("You need to pass a parent HTMLElement"),[]),this.trigger&&this.panel)return this.toggle(),this.trigger.addEventListener("click",(t=>{t.preventDefault(),this.toggle()})),void document.addEventListener("focusin",(()=>{this.contains(document.activeElement)||this.toggle("closed")}));this.innerHTML=this.initialMarkup}toggle(t){if(t){if(this.state.status===t)return;this.state.status=t}else this.state.status="closed"===this.state.status?"open":"closed"}processStateChange(){switch(this.root.setAttribute("status",this.state.status),this.root.setAttribute("enabled",this.state.enabled?"true":"false"),this.manageFocus(),this.state.status){case"closed":this.trigger.setAttribute("aria-expanded","false"),this.trigger.setAttribute("aria-label","Open menu");break;case"open":case"initial":this.trigger.setAttribute("aria-expanded","true"),this.trigger.setAttribute("aria-label","Close menu");break;default:console.log("Error Process State Change")}}manageFocus(){if(this.state.enabled)switch(this.state.status){case"open":this.focusableElements.forEach((t=>t.removeAttribute("tabindex")));break;case"closed":[...this.focusableElements].filter((t=>"burger-menu-trigger"!==t.getAttribute("data-element"))).forEach((t=>t.setAttribute("tabindex","-1")));break;default:console.log("Error Manage Focus")}else this.focusableElements.forEach((t=>t.removeAttribute("tabindex")))}}"customElements"in window&&customElements.define("burger-menu",n),a.style.display="block",t[0].style.visibility="visible",e[0].classList.add("js-active"),s[0].style.display="inline",i[0].style.visibility="visible",document.addEventListener("click",(function(a){a.target.closest("[data-button]")&&(a.preventDefault(),function(t,e){e.forEach((function(t){t.classList.contains("js-active")&&t.classList.remove("js-active")})),t.target.closest("[data-button]").classList.add("js-active")}(a,e),function(t,e){e.forEach((function(t){"visible"===t.style.visibility&&(t.style.visibility="hidden")})),e.find((e=>e.dataset.content===t.target.closest("[data-button]").dataset.button)).style.visibility="visible"}(a,t),function(t,e){e.forEach((function(t){"inline"===t.style.display&&(t.style.display="none")})),e.find((e=>e.dataset.source===t.target.closest("[data-button]").dataset.button)).style.display="inline"}(a,s),function(t,e){if(t.target.closest("[data-button='geology']")){const t=e.find((t=>"geology"===t.dataset.image));return"visible"===t.style.visibility&&(t.style.visibility="hidden"),void(t.style.visibility="visible")}e.forEach((function(t){"visible"===t.style.visibility&&(t.style.visibility="hidden")})),e.find((e=>e.dataset.image===t.target.closest("[data-button]").dataset.button)).style.visibility="visible"}(a,i))}))}();
//# sourceMappingURL=inits.js.map